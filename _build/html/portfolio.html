
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>14. ν¬νΈν΄λ¦¬μ¤ κµ¬μ„± μ „λµ &#8212; νμ΄μ¬μ„ μ΄μ©ν• ν€€νΈ ν¬μ ν¬νΈν΄λ¦¬μ¤ λ§λ“¤κΈ°</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "hyunyulhenry/quant_py");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "π’¬ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="15. νΈλ μ΄λ”©μ„ μ„ν• κΈ°μ μ  μ§€ν‘" href="technical.html" />
    <link rel="prev" title="13. ν€€νΈ μ „λµμ„ μ΄μ©ν• μΆ…λ©μ„ μ •" href="factor.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">νμ΄μ¬μ„ μ΄μ©ν• ν€€νΈ ν¬μ ν¬νΈν΄λ¦¬μ¤ λ§λ“¤κΈ°</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="index.html">
   νμ΄μ¬μ„ μ΄μ©ν• ν€€νΈ ν¬μ ν¬νΈν΄λ¦¬μ¤ λ§λ“¤κΈ°
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  ν€€νΈμ™€ ν”„λ΅κ·Έλλ° κΈ°μ΄ λ°°μ›λ³΄κΈ°
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="quant_intro.html">
   1. ν€€νΈμ— λ€ν•΄ μ•μ•„λ³΄κΈ°
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python.html">
   2. νμ΄μ¬ κΈ°μ΄ λ°°μ›λ³΄κΈ°
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="eda.html">
   3. λ°μ΄ν„° λ¶„μ„ λ°°μ›λ³΄κΈ°
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="plot.html">
   4. λ°μ΄ν„° μ‹κ°ν™” λ°°μ›λ³΄κΈ°
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sql.html">
   5. SQL κΈ°μ΄ λ°°μ›λ³΄κΈ°
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sql_in_python.html">
   6. νμ΄μ¬μ—μ„ SQL μ—°κ²°ν•κΈ°
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  ν¬λ΅¤λ§μ„ μ΄μ©ν• λ°μ΄ν„° μμ§‘
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="web.html">
   7. ν¬λ΅¤λ§μ„ μ„ν• μ›Ή κΈ°λ³Έμ§€μ‹
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="crawl_basic.html">
   8. μ •μ  ν¬λ΅¤λ§ μ‹¤μµν•κΈ°
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="selenium.html">
   9. λ™μ  ν¬λ΅¤λ§κ³Ό μ •κ· ν‘ν„μ‹
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data_korea.html">
   10. κµ­λ‚΄ μ£Όμ‹ λ°μ΄ν„° μμ§‘
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data_global.html">
   11. μ „ μ„Έκ³„ μ£Όμ‹ λ°μ΄ν„° μμ§‘ν•κΈ°
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data_ref.html">
   12. ν¬μ μ°Έκ³ μ© λ°μ΄ν„° μμ§‘
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  ν¬νΈν΄λ¦¬μ¤ κµ¬μ„±, λ°±ν…μ¤νΈ λ° λ§¤λ§¤ν•κΈ°
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="factor.html">
   13. ν€€νΈ μ „λµμ„ μ΄μ©ν• μΆ…λ©μ„ μ •
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   14. ν¬νΈν΄λ¦¬μ¤ κµ¬μ„± μ „λµ
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="technical.html">
   15. νΈλ μ΄λ”©μ„ μ„ν• κΈ°μ μ  μ§€ν‘
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="backtest.html">
   16. λ°±ν…μ¤ν… μ‹λ®¬λ μ΄μ…
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api_trading.html">
   17. μ¦κ¶μ‚¬ API μ—°κ²°κ³Ό λ§¤λ§¤ν•κΈ°
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  λ¶€λ΅
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="install_python.html">
   νμ΄μ¬ λ‹¤μ΄λ΅λ“ λ° μ„¤μΉν•κΈ°
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="install_sql.html">
   SQL λ‹¤μ΄λ΅λ“ λ° μ„¤μΉν•κΈ°
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/portfolio.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/hyunyulhenry/quant_py/main?urlpath=tree/portfolio.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   14.1. μμµλ¥  κ³„μ‚° λ° μƒκ΄€κ΄€κ³„ ν™•μΈν•κΈ°
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   14.2. μµλ€μƒ¤ν”„μ§€μ ν¬νΈν΄λ¦¬μ¤
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   14.3. μµμ†λ¶„μ‚° ν¬νΈν΄λ¦¬μ¤
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     14.3.1. μµμ† λ° μµλ€ ν¬μλΉ„μ¤‘ μ μ•½μ΅°κ±΄
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     14.3.2. κ° μΆ…λ© λ³„ μ μ•½μ΅°κ±΄
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     14.3.3. μμ‚°κµ° λ³„ λΉ„μ¤‘
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   14.4. μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     14.4.1. μ„ν—μμ‚° ν¬νΈν΄λ¦¬μ¤
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>ν¬νΈν΄λ¦¬μ¤ κµ¬μ„± μ „λµ</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   14.1. μμµλ¥  κ³„μ‚° λ° μƒκ΄€κ΄€κ³„ ν™•μΈν•κΈ°
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   14.2. μµλ€μƒ¤ν”„μ§€μ ν¬νΈν΄λ¦¬μ¤
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   14.3. μµμ†λ¶„μ‚° ν¬νΈν΄λ¦¬μ¤
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     14.3.1. μµμ† λ° μµλ€ ν¬μλΉ„μ¤‘ μ μ•½μ΅°κ±΄
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     14.3.2. κ° μΆ…λ© λ³„ μ μ•½μ΅°κ±΄
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     14.3.3. μμ‚°κµ° λ³„ λΉ„μ¤‘
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   14.4. μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     14.4.1. μ„ν—μμ‚° ν¬νΈν΄λ¦¬μ¤
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="id1">
<h1><span class="section-number">14. </span>ν¬νΈν΄λ¦¬μ¤ κµ¬μ„± μ „λµ<a class="headerlink" href="#id1" title="Permalink to this headline">Β¶</a></h1>
<p>μ–΄λ– ν• μΆ…λ©μ— ν¬μν•  μ§€ μ„ νƒν•λ” κ²ƒλ„ μ¦μ”ν•μ§€λ§, λΉ„μ¤‘μ„ μ–΄λ–»κ² λ°°λ¶„ν•λλƒμ— λ”°λΌ μ„±κ³Όκ°€ λ‹¬λΌμ§€λ―€λ΅ ν¬νΈν΄λ¦¬μ¤ κµ¬μ„± μ „λµ μ—­μ‹ μ¤‘μ”ν•λ‹¤. λ¬Όλ΅  κ°€μ¥ κ°„νΈν• ν•νƒμΈ λ™μΌλΉ„μ¤‘, μ¦‰ λ¨λ“  μΆ…λ©μ— λ™μΌν• λΉ„μ¤‘μΌλ΅ ν¬μλ¥Ό ν•  μλ„ μλ‹¤. κ·Έλ¬λ‚ μµμ μ ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•λ‹¤λ©΄ ν›¨μ”¬ μ•μ •μ μΈ μ„±κ³Όλ¥Ό κ±°λ‘ μ μμΌλ©°, νμ΄μ¬μ—μ„λ” riskfolio-lib ν¨ν‚¤μ§€λ¥Ό μ΄μ©ν•λ©΄ λ§¤μ° κ°„λ‹¨ν•κ² μµμ  ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•  μλ„ μλ‹¤.</p>
<p>μ΄λ² μ¥μ—μ„λ” μΌλ°μ μΌλ΅ λ§μ΄ μ‚¬μ©λλ” μµλ€μƒ¤ν”„μ§€μ ν¬νΈν΄λ¦¬μ¤, μµμ†λ¶„μ‚° ν¬νΈν΄λ¦¬μ¤, μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬ν„ν•΄λ³΄λ„λ΅ ν•κ² λ‹¤. λ¨Όμ € ν¬νΈν΄λ¦¬μ¤ κµ¬μ„±μ„ μ„ν•΄ κΈ€λ΅λ² μμ‚°μ„ λ€ν‘ν•λ” ETF λ°μ΄ν„°λ¥Ό λ‹¤μ΄λ΅λ“ ν• ν›„ DBμ— μ €μ¥ν•λ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">pandas_datareader</span> <span class="k">as</span> <span class="nn">web</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>

<span class="n">tickers</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;SPY&#39;</span><span class="p">,</span>  <span class="c1"># λ―Έκµ­ μ£Όμ‹</span>
    <span class="s1">&#39;IEV&#39;</span><span class="p">,</span>  <span class="c1"># μ λ½ μ£Όμ‹ </span>
    <span class="s1">&#39;EWJ&#39;</span><span class="p">,</span>  <span class="c1"># μΌλ³Έ μ£Όμ‹</span>
    <span class="s1">&#39;EEM&#39;</span><span class="p">,</span>  <span class="c1"># μ΄λ¨Έμ§• μ£Όμ‹</span>
    <span class="s1">&#39;TLT&#39;</span><span class="p">,</span>  <span class="c1"># λ―Έκµ­ μ¥κΈ°μ±„</span>
    <span class="s1">&#39;IEF&#39;</span><span class="p">,</span>  <span class="c1"># λ―Έκµ­ μ¤‘κΈ°μ±„</span>
    <span class="s1">&#39;IYR&#39;</span><span class="p">,</span>  <span class="c1"># λ―Έκµ­ λ¦¬μΈ </span>
    <span class="s1">&#39;RWX&#39;</span><span class="p">,</span>  <span class="c1"># κΈ€λ΅λ² λ¦¬μΈ </span>
    <span class="s1">&#39;GLD&#39;</span><span class="p">,</span>  <span class="c1"># κΈ</span>
    <span class="s1">&#39;DBC&#39;</span>  <span class="c1"># μƒν’</span>
<span class="p">]</span>

<span class="n">all_data</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">ticker</span> <span class="ow">in</span> <span class="n">tickers</span><span class="p">:</span>
    <span class="n">all_data</span><span class="p">[</span><span class="n">ticker</span><span class="p">]</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">DataReader</span><span class="p">(</span><span class="n">ticker</span><span class="p">,</span> <span class="s1">&#39;yahoo&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="s1">&#39;1993-01-22&#39;</span><span class="p">)</span>

<span class="n">prices</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span><span class="n">tic</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;Adj Close&#39;</span><span class="p">]</span>
     <span class="k">for</span> <span class="n">tic</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">all_data</span><span class="o">.</span><span class="n">items</span><span class="p">()})</span>

<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;mysql+pymysql://root:1234@127.0.0.1:3306/stock_db&#39;</span><span class="p">)</span>
<span class="n">prices</span><span class="o">.</span><span class="n">to_sql</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;sample_etf&#39;</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">if_exists</span><span class="o">=</span><span class="s1">&#39;replace&#39;</span><span class="p">)</span>
<span class="n">engine</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ol class="simple">
<li><p>κΈ€λ΅λ² λ€ν‘ μμ‚° ETFμ ν‹°μ»¤λ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataReader()</span></code> ν•¨μλ¥Ό μ΄μ©ν•΄ μ•Όν›„ νμ΄λ‚Έμ¤μ—μ„ λ°μ΄ν„°λ¥Ό λ°›μΌλ©°, κΈ°κ°„μ€ 1993λ…„ 1μ›” 22μΌλ¶€ν„° ν•λ‹¤.</p></li>
<li><p>μμ •μ£Όκ°€μ— ν•΄λ‹Ήν•λ” λ¶€λ¶„λ§ μ„ νƒν•μ—¬ λ°μ΄ν„°ν”„λ μ„μΌλ΅ λ§λ“ λ‹¤.</p></li>
<li><p>DBμ sample_etf ν…μ΄λΈ”μ— ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ‹¤.</p></li>
</ol>
<div class="section" id="id2">
<h2><span class="section-number">14.1. </span>μμµλ¥  κ³„μ‚° λ° μƒκ΄€κ΄€κ³„ ν™•μΈν•κΈ°<a class="headerlink" href="#id2" title="Permalink to this headline">Β¶</a></h2>
<p>λ¨Όμ € DBμ—μ„ ETF λ°μ΄ν„°λ¥Ό λ¶λ¬μ¨ ν›„ μμµλ¥ μ„ κ³„μ‚°ν•λ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">price</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="s1">&#39;select * from sample_etf;&#39;</span><span class="p">,</span> <span class="n">con</span> <span class="o">=</span> <span class="n">engine</span><span class="p">)</span>
<span class="n">rets</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">pct_change</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">engine</span><span class="o">.</span><span class="n">dispose</span><span class="p">()</span>

<span class="n">rets</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2022-07-29</th>
      <td>0.0146</td>
      <td>0.0152</td>
      <td>0.0093</td>
      <td>-0.0047</td>
      <td>-0.0027</td>
      <td>0.0004</td>
      <td>0.0058</td>
      <td>0.0149</td>
      <td>0.0028</td>
      <td>0.0046</td>
    </tr>
    <tr>
      <th>2022-08-01</th>
      <td>-0.0030</td>
      <td>-0.0013</td>
      <td>0.0128</td>
      <td>-0.0085</td>
      <td>0.0241</td>
      <td>0.0058</td>
      <td>-0.0084</td>
      <td>0.0007</td>
      <td>0.0057</td>
      <td>-0.0203</td>
    </tr>
    <tr>
      <th>2022-08-02</th>
      <td>-0.0066</td>
      <td>-0.0148</td>
      <td>-0.0190</td>
      <td>-0.0048</td>
      <td>-0.0212</td>
      <td>-0.0138</td>
      <td>-0.0129</td>
      <td>-0.0173</td>
      <td>-0.0059</td>
      <td>-0.0051</td>
    </tr>
    <tr>
      <th>2022-08-03</th>
      <td>0.0157</td>
      <td>0.0084</td>
      <td>-0.0022</td>
      <td>0.0079</td>
      <td>0.0157</td>
      <td>0.0041</td>
      <td>0.0032</td>
      <td>0.0054</td>
      <td>0.0024</td>
      <td>-0.0086</td>
    </tr>
    <tr>
      <th>2022-08-04</th>
      <td>-0.0007</td>
      <td>0.0077</td>
      <td>-0.0004</td>
      <td>0.0070</td>
      <td>-0.0003</td>
      <td>0.0051</td>
      <td>-0.0005</td>
      <td>0.0040</td>
      <td>0.0165</td>
      <td>-0.0107</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="simple">
<li><p>ETF λ°μ΄ν„°λ¥Ό λ¶λ¬μ¨λ‹¤.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pct_change()</span></code> ν•¨μλ¥Ό ν†µν•΄ μμµλ¥ μ„ κ³„μ‚°ν•λ©°, <code class="docutils literal notranslate"><span class="pre">dropna()</span></code> ν•¨μλ¥Ό ν†µν•΄ κ²°μΈ΅μΉλ¥Ό μ κ±°ν•λ‹¤.</p></li>
</ol>
<p>μ΄λ²μ—λ” κ° ETFμ μμµλ¥  κ°„ μƒκ΄€κ΄€κ³„λ¥Ό μ‚΄ν΄λ³΄λ„λ΅ ν•μ.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">rets</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">annot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">annot_kws</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;size&quot;</span> <span class="p">:</span> <span class="mi">16</span><span class="p">},</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/portfolio_5_0.png" src="_images/portfolio_5_0.png" />
</div>
</div>
<p>κ°™μ€ μμ‚°κµ° λ‚΄μ—μ„λ” κ°•ν• μƒκ΄€κ΄€κ³„λ¥Ό λ³΄μ΄λ©°, μ£Όμ‹κ³Ό μ±„κ¶ κ°„μ—λ” λ§¤μ° λ‚®μ€ μƒκ΄€κ΄€κ³„λ¥Ό λ³΄μΈλ‹¤. λν• μ£Όμ‹κ³Ό λ¦¬μΈ  κ°„μ—λ„ κ½¤ λ†’μ€ μƒκ΄€κ΄€κ³„λ¥Ό λ³΄μΈλ‹¤.</p>
</div>
<div class="section" id="id3">
<h2><span class="section-number">14.2. </span>μµλ€μƒ¤ν”„μ§€μ ν¬νΈν΄λ¦¬μ¤<a class="headerlink" href="#id3" title="Permalink to this headline">Β¶</a></h2>
<p>μµλ€μƒ¤ν”„μ§€μ ν¬νΈν΄λ¦¬μ¤(Maximum Sharpe Ratio Portfolio)λ€ μƒ¤ν”„μ§€μκ°€ μµλ€κ°€ λλ„λ΅ ν•λ” ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•λ” κ²ƒμ΄λ‹¤. μƒ¤ν”„μ§€μλ” <span class="math notranslate nohighlight">\(\frac{R_p-R_f}{\sigma_p}\)</span>, μ¦‰ ν¬νΈν΄λ¦¬μ¤μ μμµμ„ λ³€λ™μ„±μΌλ΅ λ‚λ κ°’μ΄λ©°, μ„ν— λ€λΉ„ μμµλ¥ μ΄λΌκ³ λ„ λ³Ό μ μλ‹¤. λ”°λΌμ„ μƒ¤ν”„μ§€μκ°€ μµλ€κ°€ λλ” ν¬νΈν΄λ¦¬μ¤λ” μ„ν—μ€ λ‚®μΌλ©΄μ„ μμµμ€ λ†’μ€ μ§€μ μ΄λ‹¤. riskfolio-lib ν¨ν‚¤μ§€μ ν•¨μλ¥Ό μ΄μ©ν•΄ ν•΄λ‹Ή ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•κΈ° μ„ν• μμ‚°λ³„ ν¬μλΉ„μ¤‘μ„ κµ¬ν•΄λ³΄λ„λ΅ ν•μ.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">riskfolio</span> <span class="k">as</span> <span class="nn">rp</span>

<span class="c1"># ν¬νΈν΄λ¦¬μ¤ κ°μ²΄ μƒμ„±</span>
<span class="n">port</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">Portfolio</span><span class="p">(</span><span class="n">returns</span><span class="o">=</span><span class="n">rets</span><span class="p">)</span>

<span class="c1"># μ…λ ¥κ°’ κ³„μ‚°</span>
<span class="n">method_mu</span> <span class="o">=</span> <span class="s1">&#39;hist&#39;</span>  <span class="c1"># μ—­μ‚¬μ  λ°μ΄ν„°λ¥Ό λ°”νƒ•μΌλ΅ κΈ°λ€ μμµλ¥  μ¶”μ •</span>
<span class="n">method_cov</span> <span class="o">=</span> <span class="s1">&#39;hist&#39;</span>  <span class="c1"># μ—­μ‚¬μ  λ°μ΄ν„°λ¥Ό λ°”νƒ•μΌλ΅ λ¶„μ‚°-κ³µλ¶„μ‚° ν–‰λ ¬ μ¶”μ •</span>

<span class="c1"># κ°μ²΄μ— μμµλ¥  λ° λ¶„μ‚°-κ³µλ¶„μ‚° μ…λ ¥</span>
<span class="n">port</span><span class="o">.</span><span class="n">assets_stats</span><span class="p">(</span><span class="n">method_mu</span><span class="o">=</span><span class="n">method_mu</span><span class="p">,</span> <span class="n">method_cov</span><span class="o">=</span><span class="n">method_cov</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;Classic&#39;</span>  <span class="c1"># λ¨λΈ μ…λ ¥. Classic(μ—­μ‚¬μ  λ°μ΄ν„°), BL(λΈ”λ™-λ¦¬ν„°λ§), FM(ν©ν„° λ¨ν•)</span>
<span class="n">rm</span> <span class="o">=</span> <span class="s1">&#39;MV&#39;</span>  <span class="c1"># μ„ν— μΈ΅μ • λ°©λ²•. MVλ” ν‘μ¤€νΈμ°¨λ¥Ό μλ―Έ</span>
<span class="n">obj</span> <span class="o">=</span> <span class="s1">&#39;Sharpe&#39;</span>  <span class="c1"># λ©μ ν•¨μ. MinRisk(μµμ†λ¶„μ‚°), MaxRet(μµλ€μμµλ¥ ), Utility(ν¨μ©) or Sharpe(μƒ¤ν”„μ§€μ)</span>
<span class="n">hist</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># μ—­μ‚¬μ  λ°μ΄ν„° μ‚¬μ©</span>
<span class="n">rf</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># λ¬΄μ„ν— μμµλ¥ </span>
<span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># μ„ν— νν”Ό κ³„μ, objκ°€ &#39;Utility&#39; μΌ λ•λ§ μ‚¬μ©</span>

<span class="c1"># μµμ ν™”</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">optimization</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="n">l</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="n">hist</span><span class="p">)</span>

<span class="nb">round</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>weights</th>
      <td>0.2274</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.7018</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0708</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Portfolio()</span></code> ν•¨μλ¥Ό ν†µν•΄ ν¬νΈν΄λ¦¬μ¤ κ°μ²΄λ¥Ό μƒμ„±ν•λ©°, <code class="docutils literal notranslate"><span class="pre">returns</span></code>μ—λ” μμµλ¥  λ°μ΄ν„°λ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p>β€mu(μμµλ¥ )β€™κ³Ό β€cov(λ¶„μ‚°-κ³µλ¶„μ‚° ν–‰λ ¬)β€™μ„ κµ¬ν• ν›„ <code class="docutils literal notranslate"><span class="pre">assets_stats()</span></code> ν•¨μμ— μ΄λ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p>κµ¬ν•κ³ μ ν•λ” λ©μ μ— λ§κ² κ°μΆ… νλΌλ―Έν„°λ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">optimization()</span></code> ν•¨μλ¥Ό ν†µν•΄ μµλ€μƒ¤ν”„μ§€μλ¥Ό λ§μ΅±ν•λ” ν¬νΈν΄λ¦¬μ¤μ ν•΄λ¥Ό κµ¬ν•λ‹¤.</p></li>
</ol>
<p>μ΄μ²λΌ ν¨ν‚¤μ§€λ¥Ό μ‚¬μ©ν•  κ²½μ° μµμ μ ν¬νΈν΄λ¦¬μ¤μ— λ€ν• μν•™μ  μ§€μ‹μ΄ λ¶€μ΅±ν•κ±°λ‚ λ³µμ΅ν• κ³„μ‚°μ„ ν•μ§€ μ•κ³ λ„, μ–Όλ§λ“ μ§€ μ΄λ¥Ό λ§μ΅±ν•λ” ν•΄λ¥Ό κµ¬ν•  μ μλ‹¤. μ΄λ²μ—λ” ν¨μ¨μ  ν¬μμ„ μ„ κµ¬μ„±ν•΄λ³΄λ„λ΅ ν•μ. ν¨μ¨μ  ν¬μμ„ μ΄λ€ κ° ν¬νΈν΄λ¦¬μ¤μ κΈ°λ€μμµλ¥ κ³Ό μ„ν— μμ¤€μ„ λ°”νƒ•μΌλ΅, κµ¬μ„±ν•  μ μλ” λ¨λ“  ν¬νΈν΄λ¦¬μ¤λ¥Ό λ‚νƒ€λ‚Έ κ²ƒμ΄λ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">points</span> <span class="o">=</span> <span class="mi">50</span>  <span class="c1"># ν¨μ¨μ  ν¬μμ„ μ„ κµ¬μ„±ν•λ” μƒν” κ°―μ</span>
<span class="n">frontier</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">efficient_frontier</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
                                   <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span>
                                   <span class="n">points</span><span class="o">=</span><span class="n">points</span><span class="p">,</span>
                                   <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span>
                                   <span class="n">hist</span><span class="o">=</span><span class="n">hist</span><span class="p">)</span>

<span class="n">frontier</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">head</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.1348</td>
      <td>0.0</td>
      <td>0.0051</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.7911</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.069</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.2158</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.7238</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0604</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.2463</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.6661</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0876</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.2658</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.0</td>
      <td>0.0260</td>
      <td>0.6069</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1013</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.2821</td>
      <td>0.0</td>
      <td>0.0000</td>
      <td>0.0</td>
      <td>0.0674</td>
      <td>0.5405</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1100</td>
      <td>0.000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="simple">
<li><p>λ‡ κ°μ μ μΌλ΅ ν¨μ¨μ  ν¬μμ„ μ„ κµ¬μ„±ν•  μ§€ μ •ν•λ‹¤.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">efficient_frontier()</span></code> ν•¨μλ¥Ό μ΄μ©ν•΄ ν¨μ¨μ  ν¬μμ„ μ„ μ΄λ£¨λ” ν¬νΈν΄λ¦¬μ¤λ“¤μ λΉ„μ¤‘μ„ κ³„μ‚°ν•λ‹¤.</p></li>
</ol>
<p>κ²°κ³Όμ— λ‚μ¤λ” λΉ„μ¤‘λ“¤μ„ ν†µν•΄ ν¨μ¨μ  ν¬μμ„ μ„ κµ¬μ„±ν•  μ μλ‹¤. μ΄λ²μ—” κ·Έλ¦ΌμΌλ΅ λ‚νƒ€λ‚΄λ³΄λ„λ΅ ν•μ.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Max Risk Adjusted Return Portfolio&#39;</span> 
<span class="n">mu</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">mu</span>  <span class="c1"># κΈ°λ€ μμµλ¥ </span>
<span class="n">cov</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">cov</span>  <span class="c1"># λ¶„μ‚°-κ³µλ¶„μ‚° ν–‰λ ¬</span>
<span class="n">returns</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">returns</span>  <span class="c1"># μμ‚° λ³„ μμµλ¥ </span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">plot_frontier</span><span class="p">(</span><span class="n">w_frontier</span><span class="o">=</span><span class="n">frontier</span><span class="p">,</span>
                      <span class="n">mu</span><span class="o">=</span><span class="n">mu</span><span class="p">,</span>
                      <span class="n">cov</span><span class="o">=</span><span class="n">cov</span><span class="p">,</span>
                      <span class="n">returns</span><span class="o">=</span><span class="n">returns</span><span class="p">,</span>
                      <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span>
                      <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span>
                      <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                      <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
                      <span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="p">,</span>
                      <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
                      <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">,</span>
                      <span class="n">s</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
                      <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
                      <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
                      <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                      <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/portfolio_11_0.png" src="_images/portfolio_11_0.png" />
</div>
</div>
<ol class="simple">
<li><p>λΌλ²¨, κΈ°λ€ μμµλ¥ , λ¶„μ‚°-κ³µλ¶„μ‚° ν–‰λ ¬, μμ‚°λ³„ μμµλ¥  κ°’μ„ μ…λ ¥ν•λ‹¤.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plot_frontier()</span></code> ν•¨μλ¥Ό ν†µν•΄ ν¨μ¨μ  ν¬μμ„ μ„ μ‹κ°ν™”ν•λ‹¤. κ°μΆ… νλΌλ―Έν„°λ¥Ό μμ •ν•μ—¬ κ·Έλν”„λ¥Ό κΎΈλ°€μλ„ μλ‹¤.</p></li>
</ol>
<p>κ° μ μ μƒ‰μ€ μƒ¤ν”„μ§€μλ¥Ό μλ―Έν•λ©°, λ¶‰μ€μƒ‰ λ³„μ€ μƒ¤ν”„μ§€μκ°€ μµλ€κ°€ λλ” μ μ„ μλ―Έν•λ‹¤.</p>
</div>
<div class="section" id="id4">
<h2><span class="section-number">14.3. </span>μµμ†λ¶„μ‚° ν¬νΈν΄λ¦¬μ¤<a class="headerlink" href="#id4" title="Permalink to this headline">Β¶</a></h2>
<p>ν¨μ¨μ  ν¬μμ„ κ³Ό λ¬΄μ„ν— μμµλ¥ μ μ ‘μ μ— ν•΄λ‹Ήν•λ” μµλ€μƒ¤ν”„μ§€μ ν¬νΈν΄λ¦¬μ¤λ” μ΄λ΅ μ μΌλ΅ λ§μ΄ μ‚¬μ©λλ” ν¬νΈν΄λ¦¬μ¤ κµ¬μ„± λ°©λ²•μ΄μ§€λ§, μ‹¤λ¬΄μ—μ„λ” μ μ‚¬μ©λμ§€ μ•λ”λ‹¤. κ·Έ μ΄μ λ” ν¬κ² λ‹¤μκ°€ κ°™λ‹¤.</p>
<ol class="simple">
<li><p>λ³€λ™μ„± λ° μƒκ΄€κ΄€κ³„λ” μ‹κ°„μ΄ μ§€λ‚λ„ μ–΄λμ •λ„ μ μ§€λλ” κ²½ν–¥μ΄ μλ‹¤.</p></li>
<li><p>κΈ°λ€ μμµλ¥ μ„ μ¶”μ •ν•λ” κ²ƒμ€ λ§¤μ° μ–΄λ µλ‹¤. μ΄λ΅ μ—μ„λ” κ³Όκ±° μμµλ¥ μ„ λ―Έλ μμµλ¥ μ μμΈ΅μΉλ΅ μ‚¬μ©ν•μ§€λ§ μ‹¤μ  ν¬μμ—μ„ μ‚¬μ©ν•κΈ°λ” λ¬΄λ¦¬κ°€ μλ” κ°€μ •μ΄λ‹¤.</p></li>
<li><p>μ„ κ²°κ³Όλ¥Ό μ‚΄ν΄λ³΄λ©΄ 10κ° μμ‚° μ¤‘ μΌλ¶€ μμ‚°μΌλ΅λ§ ν¬νΈν΄λ¦¬μ¤κ°€ κµ¬μ„±λλ‹¤. μ¦‰ μƒκ΄€κ΄€κ³„κ°€ λ†’μ€ μμ‚°μ΄ μμΌλ©΄ ν•λ‚μ—λ§ ν¬μν•λ” κ²°κ³Όλ¥Ό λ‚³λ”λ‹¤. κ·Έλ¬λ‚ ν„μ‹¤μ—μ„λ” μƒκ΄€κ΄€κ³„κ°€ λ†’μ€ μμ‚°μ—λ„ ν¬μν•΄μ•Ό ν•λ” κ²½μ°κ°€ λ§λ‹¤.</p></li>
</ol>
<p>λ”°λΌμ„ μ‹¤λ¬΄μ—μ„λ” 1λ²κ³Ό 2λ²μ μ΄μ λ΅ μΈν•΄ κΈ°λ€ μμµλ¥ μ— λ€ν• μ¶”μ •μ΄ ν•„μ”ν•μ§€ μ•μ€ β€μµμ†λ¶„μ‚° ν¬νΈν΄λ¦¬μ¤β€™λ¥Ό μ‚¬μ©ν•λ” κ²½μ°κ°€ λ§μΌλ©°, 3λ²μ μ΄μ λ΅ μΈν•΄ κ°μΆ… μ μ•½μ΅°κ±΄μ„ μ¶”κ°€ν•κΈ°λ„ ν•λ‹¤. β€μµμ†λ¶„μ‚° ν¬νΈν΄λ¦¬μ¤(Minimum Variance Portfolio)β€™λ” λ³€λ™μ„±μ΄ μµμ†μΈ ν¬νΈν΄λ¦¬μ¤λ©°, μ΄ μ—­μ‹ ν¨ν‚¤μ§€λ¥Ό μ΄μ©ν•λ©΄ μ†μ‰½κ² κ³„μ‚°ν•  μ μλ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">riskfolio</span> <span class="k">as</span> <span class="nn">rp</span>

<span class="n">port</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">Portfolio</span><span class="p">(</span><span class="n">returns</span><span class="o">=</span><span class="n">rets</span><span class="p">)</span>
<span class="n">method_mu</span> <span class="o">=</span> <span class="s1">&#39;hist&#39;</span>
<span class="n">method_cov</span> <span class="o">=</span> <span class="s1">&#39;hist&#39;</span>
<span class="n">port</span><span class="o">.</span><span class="n">assets_stats</span><span class="p">(</span><span class="n">method_mu</span><span class="o">=</span><span class="n">method_mu</span><span class="p">,</span> <span class="n">method_cov</span><span class="o">=</span><span class="n">method_cov</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;Classic&#39;</span>
<span class="n">rm</span> <span class="o">=</span> <span class="s1">&#39;MV&#39;</span>
<span class="n">obj</span> <span class="o">=</span> <span class="s1">&#39;MinRisk&#39;</span>  <span class="c1"># λ©μ ν•¨μ. MinRisk(μµμ†λ¶„μ‚°), MaxRet(μµλ€μμµλ¥ ), Utility(ν¨μ©) or Sharpe(μƒ¤ν”„μ§€μ)</span>
<span class="n">hist</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">rf</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">optimization</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="n">l</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="n">hist</span><span class="p">)</span>

<span class="nb">round</span><span class="p">(</span><span class="n">w</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>weights</th>
      <td>0.1348</td>
      <td>0.0</td>
      <td>0.0051</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.7911</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.069</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>μµλ€μƒ¤ν”„μ§€μ ν¬νΈν΄λ¦¬μ¤λ¥Ό κ³„μ‚°ν•λ” μ½”λ“μ—μ„ obj λ¶€λ¶„λ§ μµμ†λ¶„μ‚°μ— ν•΄λ‹Ήν•λ” β€MinRiskβ€™λ΅ λ³€κ²½ν•μ€λ‹¤. μ¦‰ ν¬νΈν΄λ¦¬μ¤μ λ³€λ™μ„±μ„ μµμ†ν™” ν•κΈ° μ„ν•΄μ„λ” κ° μμ‚° λ³„λ΅ ν•΄λ‹Ή λΉ„μ¤‘λ§νΌ ν¬μν•λ©΄ λλ‹¤. μ΄λ²μ—λ” ν•λμ— ν™•μΈν•κΈ° μ‰½κ² μ‹κ°ν™”λ¥Ό ν•΄λ³΄λ„λ΅ ν•μ.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">plot_bar</span><span class="p">(</span><span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Portfolio&#39;</span><span class="p">,</span>  <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/portfolio_15_0.png" src="_images/portfolio_15_0.png" />
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">plot_bar()</span></code> ν•¨μλ¥Ό μ΄μ©ν•λ©΄ λΉ„μ¤‘μ„ λ§‰λ€κ·Έλν”„λ΅ λ‚νƒ€λ‚Ό μ μλ‹¤. κ·Έλ¦Όμ„ μ‚΄ν΄λ³΄λ©΄ μ±„κ¶ ETFκ°€ λ€λ¶€λ¶„μ λΉ„μ¤‘μ„ κµ¬μ„±ν•λ―€λ΅, μ΄λ¥Ό μ΄μ©ν•΄ κ·Έλ€λ΅ ν¬μν•κΈ°λ” λ¬Έμ κ°€ μλ‹¤. λ°λ©΄ μΌλ¶€ μμ‚°μ€ ν¬μλΉ„μ¤‘μ΄ 0%, μ¦‰ μ „ν€ ν¬μν•μ§€ μ•κΈ°λ„ ν•λ‹¤. μ΄μ²λΌ λ³€λ™μ„±μ΄ κ°€μ¥ λ‚®μ€ μΆ…λ©μ— λ€λ¶€λ¶„μ λΉ„μ¤‘μ΄ ν¬μλλ” κµ¬μ„ν•΄(Corner Solution) λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° κ°μΆ… μ μ•½μ΅°κ±΄μ„ μ¶”κ°€ν•΄ μ¤„ ν•„μ”κ°€ μλ‹¤.</p>
<div class="section" id="id5">
<h3><span class="section-number">14.3.1. </span>μµμ† λ° μµλ€ ν¬μλΉ„μ¤‘ μ μ•½μ΅°κ±΄<a class="headerlink" href="#id5" title="Permalink to this headline">Β¶</a></h3>
<p>λ¨λ“  μμ‚°μ— μµμ† ν¬μλΉ„μ¤‘ 5%, μµλ€ ν¬μλΉ„μ¤‘ 20%μ μ μ•½μ΅°κ±΄μ„ μ„¤μ •ν•λ„λ΅ ν•κ² λ‹¤. λ¨Όμ € μ•„λμ™€ κ°™μ΄ μ λ‹λ²„μ¤μ— ν•΄λ‹Ήν•λ” ETFλ…κ³Ό ν•΄λ‹Ή ETFμ μμ‚°κµ°μ„ λ°μ΄ν„°ν”„λ μ„ ν•νƒλ΅ λ§λ“ λ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">asset_classes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Asset&#39;</span><span class="p">:</span>
    <span class="p">[</span><span class="s1">&#39;SPY&#39;</span><span class="p">,</span> <span class="s1">&#39;IEV&#39;</span><span class="p">,</span> <span class="s1">&#39;EWJ&#39;</span><span class="p">,</span> <span class="s1">&#39;EEM&#39;</span><span class="p">,</span> <span class="s1">&#39;TLT&#39;</span><span class="p">,</span> <span class="s1">&#39;IEF&#39;</span><span class="p">,</span> <span class="s1">&#39;IYR&#39;</span><span class="p">,</span> <span class="s1">&#39;RWX&#39;</span><span class="p">,</span> <span class="s1">&#39;GLD&#39;</span><span class="p">,</span> <span class="s1">&#39;DBC&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Class&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="s1">&#39;bond&#39;</span><span class="p">,</span> <span class="s1">&#39;bond&#39;</span><span class="p">,</span> <span class="s1">&#39;alternative&#39;</span><span class="p">,</span>
        <span class="s1">&#39;alternative&#39;</span><span class="p">,</span> <span class="s1">&#39;alternative&#39;</span><span class="p">,</span> <span class="s1">&#39;alternative&#39;</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">asset_classes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">asset_classes</span><span class="p">)</span>
<span class="n">asset_classes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Asset</th>
      <th>Class</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>SPY</td>
      <td>stock</td>
    </tr>
    <tr>
      <th>1</th>
      <td>IEV</td>
      <td>stock</td>
    </tr>
    <tr>
      <th>2</th>
      <td>EWJ</td>
      <td>stock</td>
    </tr>
    <tr>
      <th>3</th>
      <td>EEM</td>
      <td>stock</td>
    </tr>
    <tr>
      <th>4</th>
      <td>TLT</td>
      <td>bond</td>
    </tr>
    <tr>
      <th>5</th>
      <td>IEF</td>
      <td>bond</td>
    </tr>
    <tr>
      <th>6</th>
      <td>IYR</td>
      <td>alternative</td>
    </tr>
    <tr>
      <th>7</th>
      <td>RWX</td>
      <td>alternative</td>
    </tr>
    <tr>
      <th>8</th>
      <td>GLD</td>
      <td>alternative</td>
    </tr>
    <tr>
      <th>9</th>
      <td>DBC</td>
      <td>alternative</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>μ΄λ²μ—λ” μ μ•½μ΅°κ±΄μ— ν•΄λ‹Ήν•λ” λ°μ΄ν„°ν”„λ μ„μ„ λ§λ“ λ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">constraints</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Disabled&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
               <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;All Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;All Assets&#39;</span><span class="p">],</span>
               <span class="s1">&#39;Set&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
               <span class="s1">&#39;Position&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
               <span class="s1">&#39;Sign&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">],</span>
               <span class="s1">&#39;Weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
               <span class="s1">&#39;Type Relative&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
               <span class="s1">&#39;Relative Set&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
               <span class="s1">&#39;Relative&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
               <span class="s1">&#39;Factor&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]}</span>

<span class="n">constraints</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">constraints</span><span class="p">)</span>
<span class="n">constraints</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Disabled</th>
      <th>Type</th>
      <th>Set</th>
      <th>Position</th>
      <th>Sign</th>
      <th>Weight</th>
      <th>Type Relative</th>
      <th>Relative Set</th>
      <th>Relative</th>
      <th>Factor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>All Assets</td>
      <td></td>
      <td></td>
      <td>&gt;=</td>
      <td>0.05</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>All Assets</td>
      <td></td>
      <td></td>
      <td>&lt;=</td>
      <td>0.20</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="simple">
<li><p>Disabled: μ μ•½μ΅°κ±΄μ μ‚¬μ© μ—¬λ¶€μ΄λ©°, μ μ•½μ΅°κ±΄ κ°―μλ§νΌ Falseλ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Type: β€All Assetsβ€™μ€ λ¨λ“  μμ‚°(μΆ…λ©)μ— μ μ©λλ” μ΅°κ±΄μ„ μλ―Έν•λ‹¤. κ° μμ‚°μ— μ΅°κ±΄μ„ μ μ©ν•  λ•λ” Assets, ν•λ¶€ ν•­λ©μ— μ΅°κ±΄μ„ μ μ©ν•  λ•λ” Classesλ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Set: μ„μ—μ„ μ…λ ¥ν• μ λ‹λ²„μ¤ μ¤‘ μ μ•½μ΅°κ±΄μ— ν•΄λ‹Ήν•λ” μ—΄μ„ μλ―Έν•λ©°, All Assetsμ κ²½μ° λΉμΉΈμΌλ΅ λ‘”λ‹¤.</p></li>
<li><p>Position: μ λ‹λ²„μ¤ μ¤‘ μ μ•½μ΅°κ±΄μ— ν•΄λ‹Ήν•λ” κ°’μ„ μλ―Έν•λ©°, All Assetsμ κ²½μ° λΉμΉΈμΌλ΅ λ‘”λ‹¤.</p></li>
<li><p>Sign: μ μ•½μ΅°κ±΄μ λ¶€νΈλ¥Ό μλ―Έν•λ‹¤.</p></li>
<li><p>Weight: μ μ•½μ΅°κ±΄μ κ°’μ„ μλ―Έν•λ‹¤.</p></li>
<li><p>Type Relative, Relative Set, Relative, Factor: μƒλ€μ  μ μ•½μ΅°κ±΄μ— ν•΄λ‹Ήν•λ©°, λΉμΉΈμΌλ΅ λ‘”λ‹¤.</p></li>
</ol>
<p>μ΄ 7κ°€μ§€ μ μ•½μ‹μ— λ§κ² μ…λ ¥ν• ν›„ λ°μ΄ν„°ν”„λ μ„ ν•νƒλ΅ λ³€κ²½ν•λ‹¤. μ¦‰, κ°λ³„ ν¬μλΉ„μ¤‘μ΄ 5% μ΄μƒ, 20% μ΄ν•μΈ μ΅°κ±΄μ΄ λ§λ“¤μ–΄μ΅λ‹¤. μ΄μ  ν•΄λ‹Ή μ μ•½μ΅°κ±΄μ„ λ§μ΅±ν•λ” μµμ μ ν•΄λ¥Ό κµ¬ν•΄λ³΄λ„λ΅ ν•μ.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">assets_constraints</span><span class="p">(</span><span class="n">constraints</span><span class="p">,</span> <span class="n">asset_classes</span><span class="p">)</span>

<span class="n">port</span><span class="o">.</span><span class="n">ainequality</span> <span class="o">=</span> <span class="n">A</span>
<span class="n">port</span><span class="o">.</span><span class="n">binequality</span> <span class="o">=</span> <span class="n">B</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">optimization</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="n">l</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="n">hist</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>weights</th>
      <td>0.05</td>
      <td>0.05</td>
      <td>0.05</td>
      <td>0.05</td>
      <td>0.2</td>
      <td>0.2</td>
      <td>0.05</td>
      <td>0.05</td>
      <td>0.2</td>
      <td>0.1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">assets_constraints()</span></code> ν•¨μλ¥Ό ν†µν•΄ μ μ•½μ΅°κ±΄μ„ ν–‰λ ¬ ν•νƒλ΅ λ³€κ²½ν•λ‹¤. (μ μ•½μ΅°κ±΄μ€ <span class="math notranslate nohighlight">\(Aw \ge B\)</span> ν•νƒλ΅ μ…λ ¥λλ‹¤.)</p></li>
<li><p>ainequalityμ™€ binequality, μ¦‰ μ μ•½μ΅°κ±΄ λ¶€λ¶„μ— μ„μ—μ„ κµ¬ν• ν–‰λ ¬μ„ μ…λ ¥ν•λ‹¤.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">optimization()</span></code> ν•¨μλ¥Ό ν†µν•΄ μµμ†λ¶„μ‚° ν¬νΈν΄λ¦¬μ¤λ¥Ό λ§μ΅±ν•λ” ν•΄λ¥Ό κµ¬ν•λ‹¤.</p></li>
</ol>
<p>κ²°κ³Όλ¥Ό μ‚΄ν΄λ³΄λ©΄ κ° μμ‚°μ— μ μ–΄λ„ 5%κ°€ ν¬μλμ—μΌλ©°, μµλ€ λΉ„μ¤‘μ΄ 20%λ¥Ό λ„μ§€ μ•λ”λ‹¤. μ΄λ΅μ¨ κµ¬μ„ν•΄ λ¬Έμ κ°€ λ‹¤μ† ν•΄κ²°λμ—λ‹¤. λΉ„μ¤‘μ„ κ·Έλν”„λ΅ λ‚νƒ€λ‚΄λ³΄λ„λ΅ ν•μ.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">plot_bar</span><span class="p">(</span><span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Portfolio&#39;</span><span class="p">,</span>  <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/portfolio_23_0.png" src="_images/portfolio_23_0.png" />
</div>
</div>
</div>
<div class="section" id="id6">
<h3><span class="section-number">14.3.2. </span>κ° μΆ…λ© λ³„ μ μ•½μ΅°κ±΄<a class="headerlink" href="#id6" title="Permalink to this headline">Β¶</a></h3>
<p>μ„μ—μ„ μ¶”κ°€ν• μ μ•½μ΅°κ±΄λ§μΌλ΅λ„ μ¶©λ¶„ν ν›λ¥­ν• ν¬νΈν΄λ¦¬μ¤κ°€ κµ¬μ„±λμ§€λ§, ν¬μ κ·λ¨κ°€ μ»¤μ§€λ©΄ μ¶”κ°€μ μΈ μ μ•½μ΅°κ±΄λ“¤μ„ κ³ λ ¤ν•΄μ•Ό ν•  κ²½μ°κ°€ μƒκΈ΄λ‹¤. λ²¤μΉλ§ν¬ λΉ„μ¤‘κ³Όμ κ΄΄λ¦¬λ΅ μΈν• μ¶”μ μ¤μ°¨(Tracking Error)λ¥Ό κ³ λ ¤ν•΄μ•Ό ν•  μλ„ μκ³ , ν¬μ λ€μƒλ³„ κ±°λλ‰μ„ κ³ λ ¤ν• μ μ•½μ΅°κ±΄μ„ μ¶”κ°€ν•΄μ•Ό ν•  λ•λ„ μλ‹¤.</p>
<p>κΈ°μ΅΄ μ μ•½μ΅°κ±΄μ—λ” λ¨λ“  μμ‚°μ— λ™μΌν• μµμ† λ° μµλ€ ν¬μλΉ„μ¤‘ μ μ•½μ΅°κ±΄μ„ λ‹¤λ£¨μ—μ§€λ§, μμ‚°λ³„λ΅ μ μ•½μ΅°κ±΄μ„ κ°κ° λ‹¤λ¥΄κ² μ„¤μ •ν•΄μ•Όν•  λ•λ„ μλ‹¤. μ΄λ²μ—λ” <a class="reference internal" href="#min-const"><span class="std std-numref">Table 14.1</span></a>κ³Ό κ°™μ΄ μμ‚° λ³„λ΅ μµμ† λ° μµλ€ ν¬μλΉ„μ¤‘μ΄ λ‹¤λ¥Έ μ μ•½μ΅°κ±΄μ„ λ§μ΅±ν•λ” ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•΄λ³΄λ„λ΅ ν•κ² λ‹¤.</p>
<table class="colwidths-auto table" id="min-const">
<caption><span class="caption-number">Table 14.1 </span><span class="caption-text">κ° μμ‚° λ³„ μµμ† λ° μµλ€ μ μ•½μ΅°κ±΄</span><a class="headerlink" href="#min-const" title="Permalink to this table">Β¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>μ μ•½</p></th>
<th class="head"><p>SPY</p></th>
<th class="head"><p>IEV</p></th>
<th class="head"><p>EWJ</p></th>
<th class="head"><p>EEM</p></th>
<th class="head"><p>TLT</p></th>
<th class="head"><p>IEF</p></th>
<th class="head"><p>IYR</p></th>
<th class="head"><p>RWX</p></th>
<th class="head"><p>GLD</p></th>
<th class="head"><p>DBC</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>μµμ†</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.05</p></td>
<td><p>0.05</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.05</p></td>
<td><p>0.05</p></td>
<td><p>0.03</p></td>
<td><p>0.03</p></td>
</tr>
<tr class="row-odd"><td><p>μµλ€</p></td>
<td><p>0.25</p></td>
<td><p>0.25</p></td>
<td><p>0.20</p></td>
<td><p>0.20</p></td>
<td><p>0.20</p></td>
<td><p>0.20</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.08</p></td>
<td><p>0.08</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">constraints</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Disabled&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span>
        <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span>
    <span class="p">],</span>
    <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Assets&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Set&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span><span class="p">,</span> <span class="s1">&#39;Asset&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Position&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;SPY&#39;</span><span class="p">,</span> <span class="s1">&#39;IEV&#39;</span><span class="p">,</span> <span class="s1">&#39;EWJ&#39;</span><span class="p">,</span> <span class="s1">&#39;EEM&#39;</span><span class="p">,</span> <span class="s1">&#39;TLT&#39;</span><span class="p">,</span> <span class="s1">&#39;IEF&#39;</span><span class="p">,</span> <span class="s1">&#39;IYR&#39;</span><span class="p">,</span> <span class="s1">&#39;RWX&#39;</span><span class="p">,</span> <span class="s1">&#39;GLD&#39;</span><span class="p">,</span> <span class="s1">&#39;DBC&#39;</span><span class="p">,</span>
        <span class="s1">&#39;SPY&#39;</span><span class="p">,</span> <span class="s1">&#39;IEV&#39;</span><span class="p">,</span> <span class="s1">&#39;EWJ&#39;</span><span class="p">,</span> <span class="s1">&#39;EEM&#39;</span><span class="p">,</span> <span class="s1">&#39;TLT&#39;</span><span class="p">,</span> <span class="s1">&#39;IEF&#39;</span><span class="p">,</span> <span class="s1">&#39;IYR&#39;</span><span class="p">,</span> <span class="s1">&#39;RWX&#39;</span><span class="p">,</span> <span class="s1">&#39;GLD&#39;</span><span class="p">,</span> <span class="s1">&#39;DBC&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Sign&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Weight&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span>
        <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.08</span>
    <span class="p">],</span>
    <span class="s1">&#39;Type Relative&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Relative Set&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Relative&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Factor&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">constraints</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">constraints</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">constraints</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Disabled</th>
      <th>Type</th>
      <th>Set</th>
      <th>Position</th>
      <th>Sign</th>
      <th>Weight</th>
      <th>Type Relative</th>
      <th>Relative Set</th>
      <th>Relative</th>
      <th>Factor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>SPY</td>
      <td>&gt;=</td>
      <td>0.10</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>IEV</td>
      <td>&gt;=</td>
      <td>0.10</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>EWJ</td>
      <td>&gt;=</td>
      <td>0.05</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>EEM</td>
      <td>&gt;=</td>
      <td>0.05</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>TLT</td>
      <td>&gt;=</td>
      <td>0.10</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>5</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>IEF</td>
      <td>&gt;=</td>
      <td>0.10</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>6</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>IYR</td>
      <td>&gt;=</td>
      <td>0.05</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>RWX</td>
      <td>&gt;=</td>
      <td>0.05</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>8</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>GLD</td>
      <td>&gt;=</td>
      <td>0.03</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>9</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>DBC</td>
      <td>&gt;=</td>
      <td>0.03</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>10</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>SPY</td>
      <td>&lt;=</td>
      <td>0.25</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>11</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>IEV</td>
      <td>&lt;=</td>
      <td>0.25</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>12</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>EWJ</td>
      <td>&lt;=</td>
      <td>0.20</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>13</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>EEM</td>
      <td>&lt;=</td>
      <td>0.20</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>14</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>TLT</td>
      <td>&lt;=</td>
      <td>0.20</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>15</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>IEF</td>
      <td>&lt;=</td>
      <td>0.20</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>16</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>IYR</td>
      <td>&lt;=</td>
      <td>0.10</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>17</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>RWX</td>
      <td>&lt;=</td>
      <td>0.10</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>18</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>GLD</td>
      <td>&lt;=</td>
      <td>0.08</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>19</th>
      <td>False</td>
      <td>Assets</td>
      <td>Asset</td>
      <td>DBC</td>
      <td>&lt;=</td>
      <td>0.08</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="simple">
<li><p>Disabled: μ μ•½μ΅°κ±΄μ΄ μ΄ 20κ°μ΄λ―€λ΅ Falseλ¥Ό 20λ² μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Type: μ μ•½μ΅°κ±΄μ„ κ° μμ‚°μ— μ μ©ν•λ―€λ΅ Assetsλ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Set: μ λ‹λ²„μ¤ μ¤‘ ν‹°μ»¤μ— ν•΄λ‹Ήν•λ” Assetμ„ μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Position: μ λ‹λ²„μ¤ μ¤‘ ν‹°μ»¤λ…μ„ μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Sign: μ μ•½μ΅°κ±΄μ λ¶€νΈλ¥Ό μλ―Έν•λ‹¤.</p></li>
<li><p>Weight: μ μ•½μ΅°κ±΄μ κ°’μ„ μλ―Έν•λ‹¤.</p></li>
<li><p>Type Relative, Relative Set, Relative, Factor: μƒλ€μ  μ μ•½μ΅°κ±΄μ— ν•΄λ‹Ήν•λ©°, λΉμΉΈμΌλ΅ λ‘”λ‹¤.</p></li>
</ol>
<p>κ° μΆ…λ©(ν‹°μ»¤) λ³„ μµμ† λ° μµλ€ ν¬μλΉ„μ¤‘μ„ κ°κΈ° λ‹¤λ¥΄κ² μ…λ ¥ν–λ‹¤. μ΄λ¥Ό λ§μ΅±ν•λ” ν¬νΈν΄λ¦¬μ¤λ¥Ό κ³„μ‚°ν•΄λ³΄λ„λ΅ ν•λ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">assets_constraints</span><span class="p">(</span><span class="n">constraints</span><span class="p">,</span> <span class="n">asset_classes</span><span class="p">)</span>

<span class="n">port</span><span class="o">.</span><span class="n">ainequality</span> <span class="o">=</span> <span class="n">A</span>
<span class="n">port</span><span class="o">.</span><span class="n">binequality</span> <span class="o">=</span> <span class="n">B</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">optimization</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="n">l</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="n">hist</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>weights</th>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.09</td>
      <td>0.05</td>
      <td>0.2</td>
      <td>0.2</td>
      <td>0.05</td>
      <td>0.05</td>
      <td>0.08</td>
      <td>0.08</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>κ²°κ³Όλ¥Ό μ‚΄ν΄λ³΄λ©΄ <a class="reference internal" href="#min-const"><span class="std std-numref">Table 14.1</span></a>μ—μ„ μ„¤μ •ν• μµμ† λ° μµλ€ ν¬μλΉ„μ¤‘μ λ²”μ„ λ‚΄μ— ν•΄κ°€ μ„μΉν•¨μ„ ν™•μΈν•  μ μλ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">plot_bar</span><span class="p">(</span><span class="n">w</span><span class="o">=</span><span class="n">w</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Portfolio&#39;</span><span class="p">,</span>  <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/portfolio_29_0.png" src="_images/portfolio_29_0.png" />
</div>
</div>
</div>
<div class="section" id="id7">
<h3><span class="section-number">14.3.3. </span>μμ‚°κµ° λ³„ λΉ„μ¤‘<a class="headerlink" href="#id7" title="Permalink to this headline">Β¶</a></h3>
<p>λ§μ§€λ§‰μΌλ΅ κ°λ³„ μμ‚°μ΄ μ•„λ‹ μμ‚°κµ° λ³„λ΅ μ μ•½μ΅°κ±΄μ„ λ‹¤λ¥΄κ² μ£Όλ„λ΅ ν•λ‹¤. μ¦‰ <a class="reference internal" href="#min-const-2"><span class="std std-numref">Table 14.2</span></a>μ™€ κ°™μ΄ μ£Όμ‹ ETFμ— ν¬μν•λ” λΉ„μ¤‘μ€ μµμ† 40%, μµλ€ 70%μ΄μ–΄μ•Ό ν•λ‹¤. λν• μμ‚°κµ° λ‚΄μ—μ„ ν• μΆ…λ©μ— ν¬μ λΉ„μ¤‘μ΄ μ λ¦¬λ” κ²ƒμ„ λ°©μ§€ν•κΈ° μ„ν•΄ κ°λ³„ μμ‚°μ ν¬μ λΉ„μ¤‘μ€ μµμ† 3%, μµλ€ 20%λ΅ ν•λ‹¤.</p>
<table class="colwidths-auto table" id="min-const-2">
<caption><span class="caption-number">Table 14.2 </span><span class="caption-text">κ° μμ‚° λ³„ μµμ† λ° μµλ€ μ μ•½μ΅°κ±΄</span><a class="headerlink" href="#min-const-2" title="Permalink to this table">Β¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>μ μ•½</p></th>
<th class="head"><p>κ°λ³„</p></th>
<th class="head"><p>μ£Όμ‹</p></th>
<th class="head"><p>μ±„κ¶</p></th>
<th class="head"><p>λ€μ²΄μμ‚°</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>μµμ†</p></td>
<td><p>0.03</p></td>
<td><p>0.4</p></td>
<td><p>0.3</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-odd"><td><p>μµλ€</p></td>
<td><p>0.20</p></td>
<td><p>0.7</p></td>
<td><p>0.5</p></td>
<td><p>0.2</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">constraints</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Disabled&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
    <span class="s1">&#39;Type&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;All Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;All Assets&#39;</span><span class="p">,</span> <span class="s1">&#39;Classes&#39;</span><span class="p">,</span> <span class="s1">&#39;Classes&#39;</span><span class="p">,</span> <span class="s1">&#39;Classes&#39;</span><span class="p">,</span> <span class="s1">&#39;Classes&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Classes&#39;</span><span class="p">,</span> <span class="s1">&#39;Classes&#39;</span>
    <span class="p">],</span>
    <span class="s1">&#39;Set&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Class&#39;</span><span class="p">,</span> <span class="s1">&#39;Class&#39;</span><span class="p">,</span> <span class="s1">&#39;Class&#39;</span><span class="p">,</span> <span class="s1">&#39;Class&#39;</span><span class="p">,</span> <span class="s1">&#39;Class&#39;</span><span class="p">,</span> <span class="s1">&#39;Class&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Position&#39;</span><span class="p">:</span>
    <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="s1">&#39;bond&#39;</span><span class="p">,</span> <span class="s1">&#39;alternative&#39;</span><span class="p">,</span> <span class="s1">&#39;stock&#39;</span><span class="p">,</span> <span class="s1">&#39;bond&#39;</span><span class="p">,</span> <span class="s1">&#39;alternative&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Sign&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;=&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Weight&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.40</span><span class="p">,</span> <span class="mf">0.30</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.70</span><span class="p">,</span> <span class="mf">0.50</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">],</span>
    <span class="s1">&#39;Type Relative&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Relative Set&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Relative&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;Factor&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="n">constraints</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">constraints</span><span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">constraints</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Disabled</th>
      <th>Type</th>
      <th>Set</th>
      <th>Position</th>
      <th>Sign</th>
      <th>Weight</th>
      <th>Type Relative</th>
      <th>Relative Set</th>
      <th>Relative</th>
      <th>Factor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>All Assets</td>
      <td></td>
      <td></td>
      <td>&gt;=</td>
      <td>0.03</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>All Assets</td>
      <td></td>
      <td></td>
      <td>&lt;=</td>
      <td>0.20</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>Classes</td>
      <td>Class</td>
      <td>stock</td>
      <td>&gt;=</td>
      <td>0.40</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>Classes</td>
      <td>Class</td>
      <td>bond</td>
      <td>&gt;=</td>
      <td>0.30</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>Classes</td>
      <td>Class</td>
      <td>alternative</td>
      <td>&gt;=</td>
      <td>0.10</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>5</th>
      <td>False</td>
      <td>Classes</td>
      <td>Class</td>
      <td>stock</td>
      <td>&lt;=</td>
      <td>0.70</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>6</th>
      <td>False</td>
      <td>Classes</td>
      <td>Class</td>
      <td>bond</td>
      <td>&lt;=</td>
      <td>0.50</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <th>7</th>
      <td>False</td>
      <td>Classes</td>
      <td>Class</td>
      <td>alternative</td>
      <td>&lt;=</td>
      <td>0.20</td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ol class="simple">
<li><p>Disabled: κ°λ³„ μμ‚°μ μ μ•½ μ΅°κ±΄ 2κ°, μμ‚°κµ° λ³„ μ μ•½ μ΅°κ±΄μ΄ 6κ° μ΄λ―€λ΅ Falseλ¥Ό 8κ° μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Type: λ¨λ“  μμ‚°(μΆ…λ©)μ— μ μ©λλ” μ΅°κ±΄μ€ β€All Assetsβ€™μ„, μμ‚°κµ°μ— μ μ©λλ” μ΅°κ±΄μ€ β€Classesβ€™λ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Set: λ¨λ“  μμ‚°(μΆ…λ©)μ— μ μ©λλ” μ΅°κ±΄μ—λ” κ³µλ°±μ„, μμ‚°κµ°μ— μ μ©λλ” μ΅°κ±΄μ€ μ—΄ μ΄λ¦„μΈ β€Classβ€™λ¥Ό μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Position: κ³µλ°± λ° μμ‚°κµ°μ„ μ…λ ¥ν•λ‹¤.</p></li>
<li><p>Sign: μ μ•½μ΅°κ±΄μ λ¶€νΈλ¥Ό μλ―Έν•λ‹¤.</p></li>
<li><p>Weight: μ μ•½μ΅°κ±΄μ κ°’μ„ μλ―Έν•λ‹¤.</p></li>
<li><p>Type Relative, Relative Set, Relative, Factor: μƒλ€μ  μ μ•½μ΅°κ±΄μ— ν•΄λ‹Ήν•λ©°, λΉμΉΈμΌλ΅ λ‘”λ‹¤.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">assets_constraints</span><span class="p">(</span><span class="n">constraints</span><span class="p">,</span> <span class="n">asset_classes</span><span class="p">)</span>

<span class="n">port</span><span class="o">.</span><span class="n">ainequality</span> <span class="o">=</span> <span class="n">A</span>
<span class="n">port</span><span class="o">.</span><span class="n">binequality</span> <span class="o">=</span> <span class="n">B</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">optimization</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span> <span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="n">l</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="n">hist</span><span class="p">)</span>

<span class="n">w</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>weights</th>
      <td>0.2</td>
      <td>0.03</td>
      <td>0.14</td>
      <td>0.03</td>
      <td>0.2</td>
      <td>0.2</td>
      <td>0.03</td>
      <td>0.03</td>
      <td>0.11</td>
      <td>0.03</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>μ„ μ μ•½μ΅°κ±΄μ„ λ§μ΅±ν•λ” ν•΄λ¥Ό κµ¬ν•μ€λ‹¤. μμ‚°κµ° λ³„ μ μ•½μ΅°κ±΄μ΄ μ λ€λ΅ μ μ©λμ—λ”μ§€ ν™•μΈν•΄λ³΄λ„λ΅ ν•μ.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">w_concat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">asset_classes</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Asset&#39;</span><span class="p">),</span> <span class="n">w</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">w_concat</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Class&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;weights&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>weights</th>
    </tr>
    <tr>
      <th>Class</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>stock</th>
      <td>0.4</td>
    </tr>
    <tr>
      <th>bond</th>
      <td>0.4</td>
    </tr>
    <tr>
      <th>alternative</th>
      <td>0.2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>μμ‚°κµ° λ³„ κ·Έλ£Ήμ„ λ¬¶μ–΄ λΉ„μ¤‘μ„ λ”ν•΄λ³΄λ©΄ <a class="reference internal" href="#min-const-2"><span class="std std-numref">Table 14.2</span></a>μ—μ„ μ„¤μ •ν• μµμ† λ° μµλ€ ν¬μλΉ„μ¤‘μ λ²”μ„ λ‚΄μ— ν•΄κ°€ μ„μΉν•¨μ„ ν™•μΈν•  μ μλ‹¤. μ΄μ²λΌ ν¨ν‚¤μ§€ λ‚΄μ ν•¨μλ¥Ό μ΄μ©ν•λ©΄ λ³µμ΅ν• μ μ•½μ΅°κ±΄λ„ λ§¤μ° μ†μ‰½κ² μ μ©ν•  μ μλ‹¤.</p>
</div>
</div>
<div class="section" id="id8">
<h2><span class="section-number">14.4. </span>μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤<a class="headerlink" href="#id8" title="Permalink to this headline">Β¶</a></h2>
<p>ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•λ” μμ‚°λ“¤κ³Ό μ „μ²΄ μ„ν—μ κ΄€κ³„λ¥Ό μ΄ν•΄ν•κΈ° μ„ν•΄μ„λ”, λ¨Όμ € ν•κ³„ μ„ν—κΈ°μ—¬λ„(MRC: Marginal Risk Contribution)μ™€ μ„ν—κΈ°μ—¬λ„(RC: Risk Contribution)μ— λ€ν•΄ μ•μ•„μ•Ό ν•λ‹¤. ν•κ³„ μ„ν—κΈ°μ—¬λ„λ” νΉμ • μμ‚°μ λΉ„μ¤‘μ„ ν• λ‹¨μ„ μ¦κ°€μ‹μΌ°μ„ λ• μ „μ²΄ ν¬νΈν΄λ¦¬μ¤ μ„ν—μ μ¦κ°€λ¥Ό λ‚νƒ€λ‚΄λ” λ‹¨μ„λ΅μ„, μν•™μ νΈλ―Έλ¶„κ³Ό κ°™μ€ κ°λ…μ΄λ‹¤. <span class="math notranslate nohighlight">\(i\)</span>λ²μ§Έ μμ‚°μ ν•κ³„ μ„ν—κΈ°μ—¬λ„λ” μ•„λμ™€ κ°™μ΄ λ‚νƒ€λ‚Ό μ μλ‹¤.</p>
<div class="math notranslate nohighlight">
\[MRC_i = \frac{\partial\sigma_p}{\partial w_i} \]</div>
<p><span class="math notranslate nohighlight">\(\sqrt {f'(x)} = \frac{f'(x)}{2\sqrt{f(x)}}\)</span>μΈ μ‚¬μ‹¤μ„ μ΄μ©ν•λ©΄, ν•κ³„ μ„ν—κΈ°μ—¬λ„λ” λ‹¤μκ³Ό κ°™μ΄ ν’€ μ μλ‹¤. κ²°κ³Όμ μΌλ΅ λ¶„μλ” λ¶„μ‚°-κ³µλ¶„μ‚° ν–‰λ ¬κ³Ό κ° μμ‚°μ λΉ„μ¤‘μ κ³±, λ¶„λ¨λ” ν¬νΈν΄λ¦¬μ¤μ ν‘μ¤€νΈμ°¨ ν•νƒλ΅ λ‚νƒ€λ‚λ‹¤.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{equation} 
\begin{split}
\frac{\partial\sigma_p}{\partial w} &amp; = \frac{\partial(\sqrt{w'\Omega w})}{\partial w} \\
&amp; =\frac{\partial(w'\Omega w)}{\partial w} \times \frac{1}{2\sqrt{w'\Omega w}} \\
&amp; =\frac{2\Omega w}{2\sqrt{w'\Omega w}} \\
&amp; =\frac{\Omega w}{\sqrt{w'\Omega w}}
\end{split}
\end{equation} 
\end{split}\]</div>
<p>μ„ν—κΈ°μ—¬λ„λ” νΉμ • μμ‚°μ΄ ν¬νΈν΄λ¦¬μ¤ λ‚΄μ—μ„ μ°¨μ§€ν•λ” μ„ν—μ λΉ„μ¤‘μ΄λ‹¤. ν•κ³„ μ„ν—κΈ°μ—¬λ„κ°€ ν° μμ‚°λ„ ν¬νΈν΄λ¦¬μ¤ λ‚΄μ—μ„ λΉ„μ¤‘μ΄ μ‘λ‹¤λ©΄, ν¬νΈν΄λ¦¬μ¤ λ‚΄μ—μ„ μ°¨μ§€ν•λ” μ„ν—μ λΉ„μ¤‘μ€ μ‘μ„ κ²ƒμ΄λ‹¤. λ°λ©΄μ—, ν•κ³„ μ„ν—κΈ°μ—¬λ„κ°€ μ‘μ€ μμ‚°μΌμ§€λΌλ„ λΉ„μ¤‘μ΄ μ••λ„μ μΌλ΅ λ§λ‹¤λ©΄, ν¬νΈν΄λ¦¬μ¤ λ‚΄μ—μ„ μ°¨μ§€ν•λ” μ„ν—μ λΉ„μ¤‘μ€ ν΄ κ²ƒμ΄λ‹¤. κ²°κ³Όμ μΌλ΅ <span class="math notranslate nohighlight">\(i\)</span>λ²μ§Έ μμ‚°μ μ„ν—κΈ°μ—¬λ„λ”, <span class="math notranslate nohighlight">\(i\)</span>λ²μ§Έ μμ‚°μ ν•κ³„ μ„ν—κΈ°μ—¬λ„μ™€ ν¬νΈν΄λ¦¬μ¤ λ‚΄ λΉ„μ¤‘μ κ³±μΌλ΅ μ΄λ£¨μ–΄μ§„λ‹¤.</p>
<div class="math notranslate nohighlight">
\[RC_i = \frac{\partial\sigma_p}{\partial w_i} \times w_i\]</div>
<p>νΉμ • μμ‚°μ΄ ν¬νΈν΄λ¦¬μ¤μ μ„ν—μ„ λ€λ¶€λ¶„ μ°¨μ§€ν•λ” λ¬Έμ λ¥Ό λ§‰κ³ , λ¨λ“  μμ‚°μ΄ λ™μΌν• μ„ν—κΈ°μ—¬λ„λ¥Ό κ°€μ§€λ” ν¬νΈν΄λ¦¬μ¤κ°€ μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤(Risk Parity Portfolio) νΉμ€ λ™μΌ μ„ν—κΈ°μ—¬λ„ ν¬νΈν΄λ¦¬μ¤(Equal Risk Contribution Portfolio)λ‹¤. μ΄λ¥Ό μμ‹μΌλ΅ μ“°λ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.</p>
<div class="math notranslate nohighlight">
\[RC_1 = RC_2 = \dots = RC_n\]</div>
<div class="math notranslate nohighlight">
\[\frac{\partial\sigma_p}{\partial w_1} \times w_1 = \frac{\partial\sigma_p}{\partial w_2} \times w_2
= \dots = \frac{\partial\sigma_p}{\partial w_n} \times w_n = \frac{1}{n}\]</div>
<p>λ‹¤ν–‰μΈ μ μ€ μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬ν•κΈ° μ„ν•΄ μ„μ μμ‹μ„ μ• ν•„μ”κ°€ μ—†λ‹¤λ” μ μ΄λ‹¤. riskfolio-lib ν¨ν‚¤μ§€μ ν•¨μλ¥Ό μ΄μ©ν•λ©΄ μ΄ μ—­μ‹ μ†μ‰½κ² κ³„μ‚°ν•  μ μλ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">riskfolio</span> <span class="k">as</span> <span class="nn">rp</span>

<span class="n">port</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">Portfolio</span><span class="p">(</span><span class="n">returns</span><span class="o">=</span><span class="n">rets</span><span class="p">)</span>
<span class="n">method_mu</span> <span class="o">=</span> <span class="s1">&#39;hist&#39;</span>
<span class="n">method_cov</span> <span class="o">=</span> <span class="s1">&#39;hist&#39;</span>
<span class="n">port</span><span class="o">.</span><span class="n">assets_stats</span><span class="p">(</span><span class="n">method_mu</span><span class="o">=</span><span class="n">method_mu</span><span class="p">,</span> <span class="n">method_cov</span><span class="o">=</span><span class="n">method_cov</span><span class="p">)</span>

<span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;Classic&#39;</span>
<span class="n">rm</span> <span class="o">=</span> <span class="s1">&#39;MV&#39;</span>
<span class="n">hist</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">rf</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">b</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># μ„ν—κΈ°μ—¬λ„ μ μ•½μ΅°κ±΄</span>

<span class="n">w_rp</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">rp_optimization</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span> <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">b</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="n">hist</span><span class="p">)</span>

<span class="n">w_rp</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>weights</th>
      <td>0.060684</td>
      <td>0.048189</td>
      <td>0.058278</td>
      <td>0.038824</td>
      <td>0.171977</td>
      <td>0.359779</td>
      <td>0.041175</td>
      <td>0.052708</td>
      <td>0.090155</td>
      <td>0.078231</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>μµλ€μƒ¤ν”„μ§€μ λ° μµμ†λ¶„μ‚° ν¬νΈν΄λ¦¬μ¤μ™€ κ±°μ λΉ„μ·ν•κ² κ°’μ„ μ…λ ¥ν•λ©°, <code class="docutils literal notranslate"><span class="pre">obj</span></code> λ€μ‹  μ„ν—κΈ°μ—¬λ„ μ μ•½μ΅°κ±΄μ— ν•΄λ‹Ήν•λ” <code class="docutils literal notranslate"><span class="pre">b</span></code> μΈμλ¥Ό μ…λ ¥ν•λ‹¤. <code class="docutils literal notranslate"><span class="pre">rp_optimization()</span></code> ν•¨μλ¥Ό μ΄μ©ν•λ©΄ μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤λ¥Ό λ§μ΅±ν•λ” ν•΄κ°€ κ³„μ‚°λλ‹¤. ν•΄λ‹Ή λΉ„μ¤‘μΌλ΅ ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•λ©΄ λ¨λ“  μμ‚°μ΄ λ™μΌν• μ„ν—κΈ°μ—¬λ„λ¥Ό κ°€μ§€λ”μ§€ ν™•μΈν•΄λ³΄λ„λ΅ ν•μ.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">plot_risk_con</span><span class="p">(</span><span class="n">w_rp</span><span class="p">,</span>
                      <span class="n">cov</span><span class="o">=</span><span class="n">port</span><span class="o">.</span><span class="n">cov</span><span class="p">,</span>
                      <span class="n">returns</span><span class="o">=</span><span class="n">port</span><span class="o">.</span><span class="n">returns</span><span class="p">,</span>
                      <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span>
                      <span class="n">rf</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">alpha</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
                      <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span>
                      <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
                      <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                      <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/portfolio_39_0.png" src="_images/portfolio_39_0.png" />
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">plot_risk_con()</span></code> ν•¨μλ¥Ό μ΄μ©ν•λ©΄ ν¬μ λΉ„μ¤‘μ— λ”°λ¥Έ μμ‚°λ“¤μ μ„ν—κΈ°μ—¬λ„λ¥Ό μ• μ μμΌλ©°, λ¨λ“  μμ‚°μ΄ λ™μΌν• μ„ν—κΈ°μ—¬λ„λ¥Ό κ°€μ§„λ‹¤λ” κ²ƒμ΄ ν™•μΈλλ‹¤.</p>
<div class="section" id="id9">
<h3><span class="section-number">14.4.1. </span>μ„ν—μμ‚° ν¬νΈν΄λ¦¬μ¤<a class="headerlink" href="#id9" title="Permalink to this headline">Β¶</a></h3>
<p>λ¨λ“  μμ‚°μ μ„ν—κΈ°μ—¬λ„κ°€ λ™μΌν• κ°’μ΄ μ•„λ‹, μμ‚°λ³„λ΅ λ‹¤λ¥Έ μ„ν—κΈ°μ—¬λ„λ¥Ό κ°€μ§€λ” ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•΄μ•Ό ν•  κ²½μ°λ„ μλ‹¤. μ΄λ¬ν• ν¬νΈν΄λ¦¬μ¤λ¥Ό μ„ν—μμ‚° ν¬νΈν΄λ¦¬μ¤(Risk Budget Portfolio)λΌκ³  ν•λ‹¤. μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤λ” κ° μμ‚°μ μ„ν—μμ‚°μ΄ <span class="math notranslate nohighlight">\(\frac{1}{n}\)</span>λ΅ λ™μΌν• νΉμ ν•νƒμ΄λ‹¤.</p>
<p>λ¨Όμ € κ° μμ‚° λ³„ μ„ν—μμ‚°μ„ <a class="reference internal" href="#risk-contri"><span class="std std-numref">Table 14.3</span></a>κ³Ό κ°™μ΄ μ •ν•λ‹¤. μ¦‰, 1~4λ² μμ‚°(μ£Όμ‹)μ€ κ°κ° 15%μ”©, 5~6λ² μμ‚°(μ±„κ¶)μ€ κ°κ° 10%μ”©, 7~10λ² μμ‚°(λ€μ²΄μμ‚°)μ€ κ°κ° 5%μ”© μ„ν—μμ‚°μ„ λ¶€μ—¬ν•λ‹¤.</p>
<table class="colwidths-auto table" id="risk-contri">
<caption><span class="caption-number">Table 14.3 </span><span class="caption-text">μ„ν—μμ‚° ν¬νΈν΄λ¦¬μ¤ μμ‹</span><a class="headerlink" href="#risk-contri" title="Permalink to this table">Β¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>μ μ•½</p></th>
<th class="head"><p>SPY</p></th>
<th class="head"><p>IEV</p></th>
<th class="head"><p>EWJ</p></th>
<th class="head"><p>EEM</p></th>
<th class="head"><p>TLT</p></th>
<th class="head"><p>IEF</p></th>
<th class="head"><p>IYR</p></th>
<th class="head"><p>RWX</p></th>
<th class="head"><p>GLD</p></th>
<th class="head"><p>DBC</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>μμ‚°</p></td>
<td><p>0.15</p></td>
<td><p>0.15</p></td>
<td><p>0.15</p></td>
<td><p>0.15</p></td>
<td><p>0.10</p></td>
<td><p>0.10</p></td>
<td><p>0.05</p></td>
<td><p>0.05</p></td>
<td><p>0.05</p></td>
<td><p>0.05</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.15</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]</span>
<span class="n">w_rp</span> <span class="o">=</span> <span class="n">port</span><span class="o">.</span><span class="n">rp_optimization</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span> <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span> <span class="n">rf</span><span class="o">=</span><span class="n">rf</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">b</span><span class="p">,</span> <span class="n">hist</span><span class="o">=</span><span class="n">hist</span><span class="p">)</span>

<span class="n">w_rp</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SPY</th>
      <th>IEV</th>
      <th>EWJ</th>
      <th>EEM</th>
      <th>TLT</th>
      <th>IEF</th>
      <th>IYR</th>
      <th>RWX</th>
      <th>GLD</th>
      <th>DBC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>weights</th>
      <td>0.085431</td>
      <td>0.068835</td>
      <td>0.080791</td>
      <td>0.05544</td>
      <td>0.179636</td>
      <td>0.380988</td>
      <td>0.020609</td>
      <td>0.026179</td>
      <td>0.056458</td>
      <td>0.045634</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>μ„ν—κ· ν• ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬ν•λ” μ½”λ“μ—μ„, μ„ν—κΈ°μ—¬λ„μ— ν•΄λ‹Ήν•λ” b λ¶€λ¶„λ§ λ³€κ²½ν•λ‹¤. μ¦‰, ν•΄λ‹Ή λ¶€λ¶„μ— μ„ν—μμ‚°μ„ μ…λ ¥ν•λ‹¤. ν•΄λ‹Ή λΉ„μ¤‘μΌλ΅ ν¬νΈν΄λ¦¬μ¤λ¥Ό κµ¬μ„±ν•λ©΄ μ°λ¦¬κ°€ μ›ν• μ„ν—μμ‚° ν¬νΈν΄λ¦¬μ¤λ¥Ό λ§μ΅±ν•λ” ν™•μΈν•΄λ³΄λ„λ΅ ν•λ‹¤.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">rp</span><span class="o">.</span><span class="n">plot_risk_con</span><span class="p">(</span><span class="n">w_rp</span><span class="p">,</span>
                      <span class="n">cov</span><span class="o">=</span><span class="n">port</span><span class="o">.</span><span class="n">cov</span><span class="p">,</span>
                      <span class="n">returns</span><span class="o">=</span><span class="n">port</span><span class="o">.</span><span class="n">returns</span><span class="p">,</span>
                      <span class="n">rm</span><span class="o">=</span><span class="n">rm</span><span class="p">,</span>
                      <span class="n">rf</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                      <span class="n">alpha</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
                      <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span>
                      <span class="n">height</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
                      <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                      <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/portfolio_43_0.png" src="_images/portfolio_43_0.png" />
</div>
</div>
<p>κ° μμ‚°μ μ„ν—κΈ°μ—¬λ„κ°€ <a class="reference internal" href="#risk-contri"><span class="std std-numref">Table 14.3</span></a>μ—μ„ μ„¤μ •ν• λ©ν‘μΉμ™€ λ™μΌν•¨μ΄ ν™•μΈλλ‹¤.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>μ΄ μ™Έμ—λ„ Riskfolio ν¨ν‚¤μ§€μ μμ„Έν• μ‚¬μ©λ²•μ€ κ³µμ‹ ν™νμ΄μ§€λ¥Ό μ°Έμ΅°ν•κΈ° λ°”λ€λ‹¤.</p>
<p><a class="reference external" href="https://riskfolio-lib.readthedocs.io/en/latest/index.html">https://riskfolio-lib.readthedocs.io/en/latest/index.html</a></p>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="factor.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">13. </span>ν€€νΈ μ „λµμ„ μ΄μ©ν• μΆ…λ©μ„ μ •</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="technical.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">15. </span>νΈλ μ΄λ”©μ„ μ„ν• κΈ°μ μ  μ§€ν‘</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By μ΄ν„μ—΄<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>